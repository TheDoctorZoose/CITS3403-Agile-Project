{% extends "base.html" %}

{% block title %}Chat{% endblock %}

{% block extra_styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/chat.css') }}">
{% endblock %}

{% block content %}
<h2>ðŸ’¬ Chat Room</h2>

<!-- å½“å‰ç”¨æˆ· ID å’ŒåŽ†å²è®°å½•ä¼ é€’ç»™ JS -->
<script>
  window.CURRENT_USER_ID = {{ current_user.id }};
  window.MESSAGE_HISTORY = {{ history | tojson }};
</script>

<!-- ç”¨æˆ·é€‰æ‹©å™¨ -->
<select id="userList">
  {% for user in users %}
    {% if user.id != current_user.id %}
      <option value="{{ user.id }}">{{ user.username }}</option>
    {% endif %}
  {% endfor %}
</select>

<!-- èŠå¤©å†…å®¹åŒºåŸŸ -->
<div id="chatBox" class="chat-box"></div>

<!-- æ¶ˆæ¯è¾“å…¥ä¸Žå‘é€ -->
<input type="text" id="msgInput" placeholder="Type a message...">
<button id="sendBtn">Send</button>
{% endblock %}

{% block extra_scripts %}
<script src="{{ url_for('static', filename='js/chat.js') }}"></script>
{% endblock %}
